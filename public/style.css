/* ============================================= */
/* == ELEGANT K3 FORM STYLES (v2 - Auth) == */
/* ============================================= */

/* --- Reset & Global --- */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; }
body {
    font-family: 'Inter', sans-serif;
    background-color: #f8f9fa; /* Warna latar belakang lebih terang */
    color: #343a40; /* Warna teks utama sedikit lebih lembut */
    line-height: 1.6;
    padding-top: 2rem; /* Beri ruang di atas */
}
.page-container {
    max-width: 900px; /* Lebar maksimal konten agar tidak terlalu lebar di desktop */
    margin: 0 auto;
    padding: 0 1rem; /* Padding horizontal */
}
.hidden { display: none !important; }

/* --- Header --- */
.page-header {
    text-align: center;
    margin-bottom: 2.5rem; /* Jarak lebih besar ke konten */
    padding: 1.5rem 0;
    border-bottom: 1px solid #dee2e6; /* Garis bawah halus */
}
.page-header h1 {
    font-size: 1.8rem;
    font-weight: 700;
    color: #004d40; /* Warna hijau tua K3 */
    margin-bottom: 0.3rem;
}
.page-header h2 {
    font-size: 1rem;
    font-weight: 400;
    color: #6c757d; /* Warna abu-abu sekunder */
}

/* --- Section Card Styling --- */
.section-card {
    background-color: #ffffff; /* Kartu putih */
    border-radius: 8px; /* Sudut sedikit membulat */
    border: 1px solid #e9ecef; /* Border sangat halus */
    padding: 1.5rem;
    margin-bottom: 1.5rem; /* Jarak antar section */
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05); /* Shadow halus */
}
.section-card h3, fieldset legend {
    font-size: 1.25rem;
    font-weight: 700;
    color: #004d40;
    margin-bottom: 1rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid #e9ecef;
}
fieldset {
    border: none; /* Hapus border fieldset asli */
    padding: 0; /* Padding sudah di .section-card */
}
fieldset legend {
    width: 100%; /* Agar border bawah penuh */
    margin-left: 0; /* Reset margin */
    padding: 0 0 0.5rem 0; /* Atur padding legend */
}

/* --- Auth Section (Logged In) --- */
.auth-section.logged-in { /* Style saat user sudah login */
    padding: 0.8rem 1.5rem;
    background-color: #e9ecef; /* Sedikit beda */
    border-radius: 8px;
    margin-bottom: 1.5rem;
    display: flex;
    justify-content: flex-end; /* Pindahkan ke kanan */
    align-items: center;
}
#user-info { display: flex; align-items: center; gap: 0.8rem; font-size: 0.9rem; }
#user-email { font-weight: 500; color: #004d40; }

/* --- Auth Content (Login/Register/Reset Forms) --- */
#auth-content .auth-card { /* Style khusus untuk kartu login/register */
    max-width: 450px; /* Lebar kartu login */
    margin: 2rem auto; /* Pusatkan kartu */
}
#auth-content form label { margin-top: 0.8rem; }
#auth-content form input { margin-bottom: 0.8rem; }
.btn-fullwidth { display: block; width: 100%; margin-top: 1rem; }
.auth-links {
    text-align: center;
    margin-top: 1rem;
    font-size: 0.85rem;
}
.auth-links a {
    color: #00796b;
    text-decoration: none;
    margin: 0 0.5rem;
}
.auth-links a:hover { text-decoration: underline; }
#auth-status-message { /* Status di kartu login/register */
    font-size: 0.9rem; font-weight: 500; text-align: center;
    padding: 0.8rem; border-radius: 6px; margin-bottom: 1rem;
}
#auth-status-message:empty { display: none; } /* Sembunyikan jika kosong */
#auth-status-message.success { color: #0f5132; background-color: #d1e7dd; border: 1px solid #badbcc; }
#auth-status-message.error { color: #842029; background-color: #f8d7da; border: 1px solid #f5c2c7; }
#auth-status-message.loading { color: #055160; background-color: #cff4fc; border: 1px solid #b6effb; }


/* --- Admin & Review & Publik List --- */
.admin-area, .review-area, .public-area { /* Style dasar sudah di .section-card */ }
.rekap-controls, .search-controls { display: flex; gap: 0.8rem; margin-bottom: 1rem; }
.rekap-controls select, .search-controls input { flex-grow: 1; }
#review-list, #public-list { list-style: none; padding: 0; margin: 0; max-height: 400px; overflow-y: auto; }
#review-list li, #public-list li {
    background-color: #f8f9fa; border: 1px solid #dee2e6; border-radius: 6px;
    margin-bottom: 0.8rem; padding: 1rem; display: flex; justify-content: space-between;
    align-items: center; flex-wrap: wrap; gap: 0.5rem 1rem; transition: background-color 0.2s ease;
}
#review-list li { cursor: pointer; }
#review-list li:hover { background-color: #e9ecef; }
#review-list li div:first-child, #public-list li div:first-child { flex-grow: 1; }
#review-list li strong, #public-list li strong { display: block; font-size: 1rem; color: #004d40; margin-bottom: 0.1rem; }
#review-list li span, #public-list li span { font-size: 0.85rem; color: #6c757d; margin-right: 0.8rem; }
#review-list li .status { font-weight: 700; padding: 0.2rem 0.6rem; border-radius: 4px; font-size: 0.75rem; text-transform: uppercase; white-space: nowrap; text-align: center; border: 1px solid;}
/* Status Colors */
.status-Submitted { background-color: #fff3cd; color: #856404; border-color: #ffeeba;}
.status-Reviewed_K3 { background-color: #d1e7dd; color: #0f5132; border-color: #badbcc;}
.status-Approved_TU { background-color: #cff4fc; color: #055160; border-color: #b6effb;}
.status-Rejected_K3, .status-Rejected_TU { background-color: #f8d7da; color: #842029; border-color: #f5c2c7;}

#review-detail { border-top: 1px solid #dee2e6; margin-top: 1rem; padding-top: 1rem; }
#review-report-content { margin-bottom: 1rem; padding: 1rem; background-color: #f8f9fa; border-radius: 6px; border: 1px solid #e9ecef;}
#review-actions label { display: block; margin-bottom: 0.4rem; font-weight: 500; font-size: 0.9rem;}
#review-actions textarea { margin-bottom: 0.8rem; }
#review-actions .action-buttons { margin-top: 0.5rem; display: flex; gap: 0.8rem;}

/* --- Form General --- */
label { display: block; font-weight: 500; margin-bottom: 0.4rem; color: #495057; font-size: 0.9rem; }
input[type="text"], input[type="date"], select, textarea, output, input[type="email"], input[type="password"] {
    display: block; width: 100%; padding: 0.75rem 1rem; font-size: 1rem; font-family: 'Inter', sans-serif;
    line-height: 1.5; color: #495057; background-color: #fff; background-clip: padding-box;
    border: 1px solid #ced4da; border-radius: 6px; transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
}
input:focus, select:focus, textarea:focus {
    color: #495057; background-color: #fff; border-color: #86b7fe; outline: 0;
    box-shadow: 0 0 0 0.2rem rgba(13, 110, 253, 0.25);
}
textarea { resize: vertical; min-height: 80px; }
output { background-color: #e9ecef; border: 1px solid #ced4da; text-align: center; font-weight: 700; padding: 0.75rem 1rem; }

/* --- Form Grid --- */
.form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1rem; }

/* --- Desain Form Kartu --- */
.card-list-container { margin-top: 1rem; }
.form-card {
    border: 1px solid #dee2e6; border-radius: 8px; margin-bottom: 1.5rem;
    background: #ffffff; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,.04);
}
.form-card .card-header {
    display: flex; justify-content: space-between; align-items: center;
    padding: 0.8rem 1.2rem; background-color: #f8f9fa; border-bottom: 1px solid #dee2e6;
}
.form-card h4 { font-size: 1.1rem; font-weight: 700; color: #495057; margin: 0; }
.form-card .card-content { padding: 1.2rem; }
.form-card label { margin-top: 0.8rem; }
.form-card label:first-of-type { margin-top: 0; }
.form-card .btn-remove { width: auto; padding: 0.4rem 0.8rem; font-size: 0.8rem; }

/* Fieldset di dalam kartu Rambu */
.inner-fieldset {
    border: 1px solid #e9ecef; border-radius: 6px; padding: 1rem;
    margin-top: 1rem; background: #f8f9fa;
}
.inner-fieldset legend {
    font-size: 0.9rem; font-weight: 700; color: #495057; padding: 0 0.5rem;
    margin: 0 0 0.5rem 0.5rem; border: none; width: auto;
}
.checkbox-group { display: flex; flex-wrap: wrap; gap: 0.5rem 1rem; }
.checkbox-group label { font-size: 0.95rem; font-weight: 400; margin: 0; display: flex; align-items: center; cursor: pointer; }
.checkbox-group input { width: auto; margin-right: 0.5rem; }

/* --- Output Fields --- */
.risk-output.risk-E { background-color: #dc3545; color: #fff; border-color: #dc3545; }
.risk-output.risk-H { background-color: #fd7e14; color: #fff; border-color: #fd7e14; }
.risk-output.risk-M { background-color: #ffc107; color: #343a40; border-color: #ffc107; }
.risk-output.risk-L { background-color: #198754; color: #fff; border-color: #198754; }
.result-output.result-bagus { background-color: #198754; color: #fff; border-color: #198754; }
.result-output.result-layak { background-color: #ffc107; color: #343a40; border-color: #ffc107; }
.result-output.result-perbaikan { background-color: #dc3545; color: #fff; border-color: #dc3545; }

/* --- Buttons --- */
.btn {
    display: inline-block; font-weight: 500; line-height: 1.5; color: #ffffff; text-align: center;
    vertical-align: middle; cursor: pointer; user-select: none; background-color: transparent;
    border: 1px solid transparent; padding: 0.6rem 1.2rem; font-size: 1rem; border-radius: 6px;
    transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
    text-transform: none; letter-spacing: normal;
}
.btn:focus { outline: 0; box-shadow: 0 0 0 0.2rem rgba(13, 110, 253, 0.25); }

.btn-primary { background-color: #00796b; border-color: #00796b; }
.btn-primary:hover { background-color: #005a4f; border-color: #005a4f; }
.btn-primary:disabled { background-color: #adb5bd; border-color: #adb5bd; cursor: not-allowed; }
.btn-secondary { background-color: #6c757d; border-color: #6c757d; color: #fff; }
.btn-secondary:hover { background-color: #5a6268; border-color: #545b62; }
.btn-remove { background-color: #f8d7da; border-color: #f5c2c7; color: #842029; }
.btn-remove:hover { background-color: #f1aeb5; border-color: #ee9a9a; color: #721c24; }
.btn-approve { background-color: #198754; border-color: #198754; color: #fff; } .btn-approve:hover { background-color: #157347; border-color: #146c43; }
.btn-reject { background-color: #dc3545; border-color: #dc3545; color: #fff; } .btn-reject:hover { background-color: #bb2d3b; border-color: #b02a37; }
.btn-sm { padding: 0.4rem 0.8rem; font-size: 0.875rem; }
.btn-add {
    display: block; width: 100%; margin-top: 1rem; background-color: #e9ecef;
    border-color: #dee2e6; color: #495057; font-weight: 500;
}
.btn-add:hover { background-color: #ced4da; border-color: #adb5bd; color: #343a40; }

.submit-area { text-align: center; margin-top: 2rem; padding-top: 1.5rem; border-top: 1px solid #e9ecef; }
.btn-submit { font-size: 1.1rem; padding: 0.8rem 2rem; }

/* --- Download Note --- */
.download-note {
    font-size: 0.75rem; color: #6c757d; font-style: italic;
    display: block; margin-top: 0.3rem; text-align: left;
}
#public-list li .download-note, #review-report-content .download-note {
    width: 100%; text-align: right;
}
#status-message .download-note { text-align: center; }


/* --- Status Message --- */
#status-message, #rekap-status { margin-top: 1rem; font-weight: 500; }
#status-message.success, #rekap-status.success { color: #0f5132; background-color: #d1e7dd; border: 1px solid #badbcc; padding: 1rem; border-radius: 6px; }
#status-message.error, #rekap-status.error { color: #842029; background-color: #f8d7da; border: 1px solid #f5c2c7; padding: 1rem; border-radius: 6px; }

.toggle-section {
    text-align: center; /* Pusatkan tombol */
    margin-bottom: 1.5rem; /* Jarak ke section di bawahnya */
    border-top: 1px solid #e9ecef; /* Garis pemisah tipis di atas */
    padding-top: 1.5rem; /* Jarak dari garis */
}
/* Style tombol bisa disesuaikan, pakai btn-secondary */
#toggle-public-archive-btn {
    background-color: #f8f9fa; /* Warna lebih netral */
    border-color: #dee2e6;
    color: #495057;
    font-weight: 500;
}
#toggle-public-archive-btn:hover {
    background-color: #e9ecef;
    border-color: #ced4da;
    color: #343a40;
}
/* =================================================================== */
/* == MEDIA QUERY UNTUK TAMPILAN MOBILE (768px KE BAWAH) == */
/* =================================================================== */

@media (max-width: 768px) {
    body { padding-top: 1rem; }
    .page-container { padding: 0 0.5rem; }
    .page-header { margin-bottom: 1.5rem; padding: 1rem 0; }
    .page-header h1 { font-size: 1.5rem; }
    .page-header h2 { font-size: 0.9rem; }

    .section-card { padding: 1rem; margin-bottom: 1rem; }
    .section-card h3, fieldset legend { font-size: 1.1rem; }

    .auth-section { padding: 0.8rem; }
    #auth-content .auth-card { margin: 1rem auto; }

    .admin-area, .review-area, .public-area { padding: 1rem; }
    .rekap-controls, .search-controls { flex-direction: column; align-items: stretch; }

    #review-list li, #public-list li { padding: 0.8rem; }
    #review-list li div:first-child, #public-list li div:first-child { width: 100%; margin-bottom: 0.5rem; }
    #review-list li .status, #public-list li .download-link { width: 100%; text-align: center; margin-left: 0; }
    #public-list li .download-link .btn-sm { width: 100%; }
    #public-list li .download-note, #review-report-content .download-note { text-align: center; }

    .form-grid { grid-template-columns: 1fr; gap: 0.8rem; margin-bottom: 0.8rem; }

    input, select, textarea, button, output { font-size: 16px !important; }
    .btn, button, input[type="submit"] { padding: 0.8rem 1rem; }
    .btn-sm { padding: 0.6rem 1rem !important; }
    .btn-submit { padding: 0.9rem 1.5rem; }

    .form-card { margin-bottom: 1rem; }
    .form-card .card-header { padding: 0.6rem 1rem; }
    .form-card h4 { font-size: 1rem; }
    .form-card .card-content { padding: 1rem; }
    .form-card label { margin-top: 0.6rem; }
    .inner-fieldset { padding: 0.8rem; }
    .inner-fieldset legend { font-size: 0.85rem; }
    .checkbox-group { gap: 0.3rem 0.8rem; }
    .checkbox-group label { font-size: 0.9rem; }
}